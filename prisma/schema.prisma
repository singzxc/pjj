datasource db {
  provider = "mysql"  // ใช้กับ MariaDB ได้
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum Role {
  ADMIN
  MEDICAL_STAFF
  RESEARCHER
  PATIENT
}

// prisma/schema.prisma (เติมเข้าไปใน model User)
model User {
  id          Int      @id @default(autoincrement())
  username    String   @unique
  password    String
  email       String?  @unique
  nameTh      String
  nameEn      String?
  gender      String?
  nationality String?
  religion    String?
  ethnicity   String?
  dob         String?
  phone       String?
  createdAt   DateTime @default(now())
  role        Role      @default(PATIENT) // <— ค่าเริ่มต้น
  assessments Assessment[]
}

model Assessment {
  id          Int      @id @default(autoincrement())
  patient     User     @relation(fields: [patientId], references: [id])
  patientId   Int
  painScore   Int?
  injuryArea  String   // (หรือใช้ Enum ถ้าคุณสร้าง Enum ของอาการบาดเจ็บ)
  formType    String   // เช่น "IKDC", "DASH"
  status      String   @default("PENDING") // เช่น "PENDING", "COMPLETED"
  score       Json?    // เก็บผลคะแนนเป็น JSON
  createdAt   DateTime @default(now())
  fileUrl     String?  // <-- IMG

}
